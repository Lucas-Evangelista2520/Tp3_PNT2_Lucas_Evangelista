<div class="mt-4">
    <h4 class="mb-3">Formulario de usuarios</h4>

    <form @submit.prevent class="mb-3" novalidate>
        <div class="form-row">
        <!-- Nombre -->
        <div class="form-group col-md-4">
            <label>Nombre</label>
            <input
            type="text"
            class="form-control"
            v-model="formData.nombre"
            @input="formDirty.nombre = true"
            @blur="formDirty.nombre = true"
            :class="{ 'is-invalid': errorNombre.mostrar }"
            placeholder="Ej: Camila"
            />
            <div class="invalid-feedback" v-if="errorNombre.mostrar">{{ errorNombre.mensaje }}</div>
        </div>

        <!-- Edad -->
        <div class="form-group col-md-2">
            <label>Edad</label>
            <input
            type="number"
            class="form-control"
            v-model="formData.edad"
            @input="formDirty.edad = true"
            @blur="formDirty.edad = true"
            :class="{ 'is-invalid': errorEdad.mostrar }"
            min="0" step="1" inputmode="numeric" placeholder="Ej: 25"
            />
            <div class="invalid-feedback" v-if="errorEdad.mostrar">{{ errorEdad.mensaje }}</div>
        </div>

        <!-- Email -->
        <div class="form-group col-md-6">
            <label>Email</label>
            <input
            type="email"
            class="form-control"
            v-model="formData.email"
            @input="formDirty.email = true"
            @blur="formDirty.email = true"
            :class="{ 'is-invalid': errorEmail.mostrar }"
            placeholder="ejemplo@correo.com"
            />
            <div class="invalid-feedback" v-if="errorEmail.mostrar">{{ errorEmail.mensaje }}</div>
        </div>
        </div>

        <button type="button" class="btn btn-outline-secondary btn-sm" @click="limpiarFormulario">
        Limpiar
        </button>
    </form>

    <!-- Tabla reactiva: se muestra SOLO cuando el form es válido -->
    <table class="table table-bordered">
        <thead class="thead-light">
        <tr>
            <th>Nombre</th>
            <th>Edad</th>
            <th>Email</th>
        </tr>
        </thead>
        <tbody>
        <tr v-if="formValido">
            <td>{{ String(formData.nombre).trim() }}</td>
            <td>{{ numeroEdad }}</td>
            <td>{{ String(formData.email).trim() }}</td>
        </tr>
        <tr v-else>
            <td colspan="3" class="text-center text-muted">
            Complete los campos con datos válidos para verlos aquí.
            </td>
        </tr>
        </tbody>
    </table>
</div>
